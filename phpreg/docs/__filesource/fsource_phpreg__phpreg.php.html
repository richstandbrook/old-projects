<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
   <html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>File Source for phpreg.php</title>
  <link rel="stylesheet" href="../media/stylesheet.css" />
<!-- template designed by Julien Damon based on PHPEdit's generated templates, and tweaked by Greg Beaver -->
<body bgcolor="#ffffff" ><h1 align="center">Source for file phpreg.php</h1>
<p>Documentation is available at <a href="../phpreg/_phpreg_php.html">phpreg.php</a></p>
<pre><a name="a1"></a><br />1     <strong>&lt;?php</strong><a name="a2"></a><br />2     <font color="#009999">/**</font><a name="a3"></a><br />3     <font color="#009999">* PHPregistry class usage examples.</font><a name="a4"></a><br />4     <font color="#009999">*</font><a name="a5"></a><br />5     <font color="#009999">* - Example usage 1 - general usage</font><a name="a6"></a><br />6     <font color="#009999">*</font><a name="a7"></a><br />7     <font color="#009999">* &lt;code&gt;</font><a name="a8"></a><br />8     <font color="#009999">* &lt;?php</font><a name="a9"></a><br />9     <font color="#009999">*</font><a name="a10"></a><br />10    <font color="#009999">* include('phpreg.php');</font><a name="a11"></a><br />11    <font color="#009999">*</font><a name="a12"></a><br />12    <font color="#009999">* $foo = new phpreg;</font><a name="a13"></a><br />13    <font color="#009999">* $foo-&gt;open(&quot;test.pr&quot;);</font><a name="a14"></a><br />14    <font color="#009999">* $foo-&gt;define_keys();</font><a name="a15"></a><br />15    <font color="#009999">*</font><a name="a16"></a><br />16    <font color="#009999">* ...</font><a name="a17"></a><br />17    <font color="#009999">*</font><a name="a18"></a><br />18    <font color="#009999">* ?&gt;</font><a name="a19"></a><br />19    <font color="#009999">* &lt;/code&gt;</font><a name="a20"></a><br />20    <font color="#009999">*</font><a name="a21"></a><br />21    <font color="#009999">*</font><a name="a22"></a><br />22    <font color="#009999">* - Example usage 2 - phpreg editor</font><a name="a23"></a><br />23    <font color="#009999">*</font><a name="a24"></a><br />24    <font color="#009999">* &lt;code&gt;</font><a name="a25"></a><br />25    <font color="#009999">* &lt;?php</font><a name="a26"></a><br />26    <font color="#009999">*</font><a name="a27"></a><br />27    <font color="#009999">* include('phpregedit.php');</font><a name="a28"></a><br />28    <font color="#009999">*</font><a name="a29"></a><br />29    <font color="#009999">* $foo = new phpregedit;</font><a name="a30"></a><br />30    <font color="#009999">* $foo-&gt;editor();</font><a name="a31"></a><br />31    <font color="#009999">*</font><a name="a32"></a><br />32    <font color="#009999">* ?&gt;</font><a name="a33"></a><br />33    <font color="#009999">* &lt;/code&gt;</font><a name="a34"></a><br />34    <font color="#009999">*</font><a name="a35"></a><br />35    <font color="#009999">*</font><a name="a36"></a><br />36    <font color="#009999">* - Example usage 3 - advanced</font><a name="a37"></a><br />37    <font color="#009999">*</font><a name="a38"></a><br />38    <font color="#009999">* &lt;code&gt;</font><a name="a39"></a><br />39    <font color="#009999">* &lt;?php</font><a name="a40"></a><br />40    <font color="#009999">*</font><a name="a41"></a><br />41    <font color="#009999">* $foo-&gt;set_key('PATH/TO/KEY','foo_bar');</font><a name="a42"></a><br />42    <font color="#009999">* $foo-&gt;set_key('PATH/TO/FOO/MOREFOO','haha');</font><a name="a43"></a><br />43    <font color="#009999">* $foo-&gt;set_key('PATH/TO/FOO/YAFOO','bar');</font><a name="a44"></a><br />44    <font color="#009999">*</font><a name="a45"></a><br />45    <font color="#009999">* // The function bellow would remove</font><a name="a46"></a><br />46    <font color="#009999">* // the last two keys set above</font><a name="a47"></a><br />47    <font color="#009999">*</font><a name="a48"></a><br />48    <font color="#009999">* $foo-&gt;remove_key('PATH/TO/FOO');</font><a name="a49"></a><br />49    <font color="#009999">*</font><a name="a50"></a><br />50    <font color="#009999">* // If you do not have any compression</font><a name="a51"></a><br />51    <font color="#009999">* // available on your server, or you do not wish to use it.</font><a name="a52"></a><br />52    <font color="#009999">* // change the $compression property or call</font><a name="a53"></a><br />53    <font color="#009999">* // open() and save() with '' as the seconf option:</font><a name="a54"></a><br />54    <font color="#009999">*</font><a name="a55"></a><br />55    <font color="#009999">* $foo-&gt;save(&quot;test.pr&quot;,'');</font><a name="a56"></a><br />56    <font color="#009999">*</font><a name="a57"></a><br />57    <font color="#009999">* ?&gt;</font><a name="a58"></a><br />58    <font color="#009999">* &lt;/code&gt;</font><a name="a59"></a><br />59    <font color="#009999">*</font><a name="a60"></a><br />60    <font color="#009999">*/</font><a name="a61"></a><br />61    <a name="a62"></a><br />62    <font color="green">//---------------------- phpreg.php ----------------------</font><a name="a63"></a><br />63    <a name="a64"></a><br />64    <font color="#009999">/**</font><a name="a65"></a><br />65    <font color="#009999">* Class alows you to build up a registry for global or</font><a name="a66"></a><br />66    <font color="#009999">* per application use, keys are defined as constants</font><a name="a67"></a><br />67    <font color="#009999">*</font><a name="a68"></a><br />68    <font color="#009999">*</font><font color="#009999"> </font><strong><font color = "#0099FF">@author</font></strong><font color="#009999"> Richard Standbrook &lt;richard@koorb.co.uk&gt;</font><a name="a69"></a><br />69    <font color="#009999">*</font><font color="#009999"> </font><strong><font color = "#0099FF">@version</font></strong><font color="#009999"> 0.1.3</font><a name="a70"></a><br />70    <font color="#009999">*</font><font color="#009999"> </font><strong><font color = "#0099FF">@license</font></strong><font color="#009999"> GPL - http://www.opensource.org/licenses/gpl-license.php</font><a name="a71"></a><br />71    <font color="#009999">*/</font><a name="a72"></a><br />72    <font color="blue">class</font> <a href="../phpreg/phpreg.html">phpreg</a> <strong>{</strong><a name="a73"></a><br />73    <a name="a74"></a><br />74        <font color="#009999">/**</font><a name="a75"></a><br />75    <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@var </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">File compression stream</font><a name="a76"></a><br />76    <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a77"></a><br />77    <font color="#009999">    */</font><a name="a78"></a><br />78        <font color="blue">var</font> <a href="../phpreg/phpreg.html#var$compression">$compression</a> = <font color="#66cccc">'compress.zlib://'</font>;<a name="a79"></a><br />79        <a name="a80"></a><br />80        <font color="#009999">/**</font><a name="a81"></a><br />81    <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@var </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">version number</font><a name="a82"></a><br />82    <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a83"></a><br />83    <font color="#009999">    */</font><a name="a84"></a><br />84        <font color="blue">var</font> <a href="../phpreg/phpreg.html#var$version">$version</a> = <font color="#66cccc">'0.1.3'</font>;<a name="a85"></a><br />85    <a name="a86"></a><br />86        <font color="#009999">/**</font><a name="a87"></a><br />87    <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@var </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">Regex pattern for a valid key</font><a name="a88"></a><br />88    <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a89"></a><br />89    <font color="#009999">    */</font><a name="a90"></a><br />90        <font color="blue">var</font> <a href="../phpreg/phpreg.html#var$valid_key_pattern">$valid_key_pattern</a> = <font color="#66cccc">'/^([^\/][a-zA-Z0-9]*[\/]?)*[^\/]$/'</font>;<a name="a91"></a><br />91        <a name="a92"></a><br />92        <font color="#009999">/**</font><a name="a93"></a><br />93    <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@var </font></strong><font color="#009999"></font><em>array </em><font color="#009999"></font><font color="#009999">Holder for the phpreg array</font><a name="a94"></a><br />94    <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a95"></a><br />95    <font color="#009999">    */</font><a name="a96"></a><br />96        <font color="blue">var</font> <a href="../phpreg/phpreg.html#var$phpreg">$phpreg</a> = array<strong>(</strong><strong>)</strong>;<a name="a97"></a><br />97    <a name="a98"></a><br />98        <font color="#009999">/**</font><a name="a99"></a><br />99    <font color="#009999">    * Serializes $phpreg and saves to file</font><a name="a100"></a><br />100   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">Name of file to save to</font><a name="a101"></a><br />101   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">optionaly add a custom compression stream</font><a name="a102"></a><br />102   <font color="#009999">    *</font><font color="#009999"> </font><font color="#009999"> (must be opened with same compression stream as it was saved)</font><a name="a103"></a><br />103   <font color="#009999">    *</font><font color="#009999"> </font><font color="#009999"> use save($filename, ''); for no compression</font><a name="a104"></a><br />104   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>boolean </em><font color="#009999"></font><font color="#009999">true on success, false on failure</font><a name="a105"></a><br />105   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a106"></a><br />106   <font color="#009999">    */</font><a name="a107"></a><br />107       <font color="blue">function</font> <a href="../phpreg/phpreg.html#methodsave">save</a><strong>(</strong> <strong>$filename</strong><strong>,</strong> <strong>$compression</strong> = null <strong>)</strong> <strong>{</strong><a name="a108"></a><br />108       <a name="a109"></a><br />109           <font color="green">//add compresion stream</font><a name="a110"></a><br />110           <strong>$file</strong> = <strong>$compression</strong> || <strong>$compression</strong> === <font color="#66cccc">''</font> ? <strong>$compression</strong> : <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#var$compression">compression</a>;<a name="a111"></a><br />111           <strong>$file</strong>.= <strong>$filename</strong>;<a name="a112"></a><br />112           <a name="a113"></a><br />113           <font color="blue">if</font><strong>(</strong> <strong>@</strong><strong>$fh</strong> = <a href="http://www.php.net/fopen">fopen</a><strong>(</strong><strong>$file</strong><strong>,</strong><font color="#66cccc">&quot;w&quot;</font><strong>)</strong> <strong>)</strong> <strong>{</strong><a name="a114"></a><br />114           <a name="a115"></a><br />115               <strong>$phpreg</strong> = <a href="http://www.php.net/serialize">serialize</a><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#var$phpreg">phpreg</a><strong>)</strong>;<a name="a116"></a><br />116               <a href="http://www.php.net/fwrite">fwrite</a><strong>(</strong><strong>$fh</strong><strong>,</strong><strong>$phpreg</strong><strong>)</strong>;<a name="a117"></a><br />117               <a href="http://www.php.net/fclose">fclose</a><strong>(</strong><strong>$fh</strong><strong>)</strong>;<a name="a118"></a><br />118               <a name="a119"></a><br />119               <font color="blue">return</font> true;<a name="a120"></a><br />120               <a name="a121"></a><br />121           <strong>}</strong>else<strong>{</strong><a name="a122"></a><br />122               die<strong>(</strong><font color="#66cccc">'cannot save to file `'</font>.<strong>$filename</strong>.<font color="#66cccc">'`'</font><strong>)</strong>;<a name="a123"></a><br />123               <font color="blue">return</font> false;<a name="a124"></a><br />124           <strong>}</strong><a name="a125"></a><br />125       <strong>}</strong><a name="a126"></a><br />126       <a name="a127"></a><br />127       <font color="#009999">/**</font><a name="a128"></a><br />128   <font color="#009999">    * Opens and unserializes $phpreg</font><a name="a129"></a><br />129   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">Name of file to open</font><a name="a130"></a><br />130   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">optionaly add a custom compression stream</font><a name="a131"></a><br />131   <font color="#009999">    *</font><font color="#009999"> </font><font color="#009999"> (must be opened with same compression stream as it was saved)</font><a name="a132"></a><br />132   <font color="#009999">    *</font><font color="#009999"> </font><font color="#009999"> use open($filename, ''); for no compression</font><a name="a133"></a><br />133   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@return </font></strong><font color="#009999"></font><em>boolean </em><font color="#009999"></font><font color="#009999">true on success, false on failure</font><a name="a134"></a><br />134   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a135"></a><br />135   <font color="#009999">    */</font><a name="a136"></a><br />136       <font color="blue">function</font> <a href="../phpreg/phpreg.html#methodopen">open</a><strong>(</strong> <strong>$filename</strong><strong>,</strong> <strong>$compression</strong> = null <strong>)</strong> <strong>{</strong><a name="a137"></a><br />137   <a name="a138"></a><br />138           <font color="green">//add compresion stream</font><a name="a139"></a><br />139           <strong>$file</strong> = <strong>$compression</strong> || <strong>$compression</strong> === <font color="#66cccc">''</font> ? <strong>$compression</strong> : <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#var$compression">compression</a>;<a name="a140"></a><br />140           <strong>$file</strong>.= <strong>$filename</strong>;<a name="a141"></a><br />141   <a name="a142"></a><br />142           <font color="blue">if</font><strong>(</strong> <strong>@</strong><strong>$fh</strong> = <a href="http://www.php.net/fopen">fopen</a><strong>(</strong><strong>$file</strong><strong>,</strong><font color="#66cccc">&quot;r&quot;</font><strong>)</strong> <strong>)</strong> <strong>{</strong><a name="a143"></a><br />143   <a name="a144"></a><br />144               <strong>$content</strong> = <a href="http://www.php.net/fread">fread</a><strong>(</strong><strong>$fh</strong><strong>,</strong><a href="http://www.php.net/filesize">filesize</a><strong>(</strong><strong>$filename</strong><strong>)</strong>*2<strong>)</strong>;<a name="a145"></a><br />145               <a href="http://www.php.net/fclose">fclose</a><strong>(</strong><strong>$fh</strong><strong>)</strong>;<a name="a146"></a><br />146               <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#var$phpreg">phpreg</a> = <a href="http://www.php.net/unserialize">unserialize</a><strong>(</strong><strong>$content</strong><strong>)</strong>;<a name="a147"></a><br />147   <a name="a148"></a><br />148               <font color="blue">return</font> true;<a name="a149"></a><br />149   <a name="a150"></a><br />150           <strong>}</strong>else<strong>{</strong><a name="a151"></a><br />151           <a name="a152"></a><br />152               <font color="blue">if</font><strong>(</strong> <strong>@</strong><strong>$fh</strong> = <a href="http://www.php.net/fopen">fopen</a><strong>(</strong><strong>$file</strong><strong>,</strong><font color="#66cccc">&quot;w&quot;</font><strong>)</strong> <strong>)</strong> <strong>{</strong><a name="a153"></a><br />153   <a name="a154"></a><br />154                   <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodopen">open</a><strong>(</strong><strong>$filename</strong><strong>,</strong><strong>$compression</strong><strong>)</strong>;<a name="a155"></a><br />155                   <a name="a156"></a><br />156               <strong>}</strong>else<strong>{</strong><a name="a157"></a><br />157               <a name="a158"></a><br />158                   <a href="http://www.php.net/session_destroy">session_destroy</a><strong>(</strong><strong>)</strong>;<a name="a159"></a><br />159                   die<strong>(</strong><font color="#66cccc">'cannot find/create file `'</font>.<strong>$filename</strong>.<font color="#66cccc">'`. Please check path exists. &lt;a href=&quot;'</font>.<strong>$_SERVER</strong><strong>[</strong><font color="#66cccc">'PHP_SELF'</font><strong>]</strong>.<font color="#66cccc">'&quot;&gt;back&lt;/a&gt;'</font><strong>)</strong>;<a name="a160"></a><br />160                   <font color="blue">return</font> false;<a name="a161"></a><br />161               <strong>}</strong><a name="a162"></a><br />162           <strong>}</strong><a name="a163"></a><br />163       <strong>}</strong><a name="a164"></a><br />164       <a name="a165"></a><br />165       <font color="#009999">/**</font><a name="a166"></a><br />166   <font color="#009999">    * Replace path seperators `/` for eval'ing</font><a name="a167"></a><br />167   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a168"></a><br />168   <font color="#009999">    */</font><a name="a169"></a><br />169       <font color="blue">function</font> <a href="../phpreg/phpreg.html#methodconvert_key_path">convert_key_path</a><strong>(</strong> <strong>$key</strong> <strong>)</strong> <strong>{</strong><a name="a170"></a><br />170       <a name="a171"></a><br />171           <font color="green">// strip slashes from the start</font><a name="a172"></a><br />172           <strong>$pattern</strong> = <font color="#66cccc">&quot;/^(\/)*/&quot;</font>;<a name="a173"></a><br />173           <strong>$replace</strong> = <font color="#66cccc">&quot;&quot;</font>;<a name="a174"></a><br />174           <strong>$key</strong> = <a href="http://www.php.net/preg_replace">preg_replace</a><strong>(</strong><strong>$pattern</strong><strong>,</strong><strong>$replace</strong><strong>,</strong><strong>$key</strong><strong>)</strong>;<a name="a175"></a><br />175           <a name="a176"></a><br />176           <font color="green">// strip slashes from the end</font><a name="a177"></a><br />177           <strong>$pattern</strong> = &quot;<font color="#66cccc">/(\/)*$/</font>&quot;;<a name="a178"></a><br />178           <strong>$replace</strong> = <font color="#66cccc">&quot;&quot;</font>;<a name="a179"></a><br />179           <strong>$key</strong> = <a href="http://www.php.net/preg_replace">preg_replace</a><strong>(</strong><strong>$pattern</strong><strong>,</strong><strong>$replace</strong><strong>,</strong><strong>$key</strong><strong>)</strong>;<a name="a180"></a><br />180           <a name="a181"></a><br />181           <strong>$pattern</strong> = <font color="#66cccc">&quot;/\//&quot;</font>;<a name="a182"></a><br />182           <strong>$replace</strong> = <font color="#66cccc">&quot;']['&quot;</font>;<a name="a183"></a><br />183           <strong>$key</strong> = <a href="http://www.php.net/preg_replace">preg_replace</a><strong>(</strong><strong>$pattern</strong><strong>,</strong><strong>$replace</strong><strong>,</strong><strong>$key</strong><strong>)</strong>;<a name="a184"></a><br />184           <a name="a185"></a><br />185           <font color="blue">return</font> <strong>$key</strong>;<a name="a186"></a><br />186       <strong>}</strong><a name="a187"></a><br />187       <a name="a188"></a><br />188       <font color="#009999">/**</font><a name="a189"></a><br />189   <font color="#009999">    * Set a key to the phpreg, either add new or change exsiting</font><a name="a190"></a><br />190   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">name of key</font><a name="a191"></a><br />191   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">optional value, no value with extend the current key</font><a name="a192"></a><br />192   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a193"></a><br />193   <font color="#009999">    */</font><a name="a194"></a><br />194       <font color="blue">function</font> <a href="../phpreg/phpreg.html#methodset_key">set_key</a><strong>(</strong> <strong>$key</strong><strong>,</strong> <strong>$value</strong> = null <strong>)</strong> <strong>{</strong><a name="a195"></a><br />195       <a name="a196"></a><br />196           <font color="blue">if</font><strong>(</strong> <strong>!</strong><a href="http://www.php.net/preg_match">preg_match</a><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#var$valid_key_pattern">valid_key_pattern</a><strong>,</strong><strong>$key</strong><strong>)</strong> <strong>)</strong><a name="a197"></a><br />197           <strong>{</strong> <font color="blue">return</font> false; <strong>}</strong><a name="a198"></a><br />198   <a name="a199"></a><br />199           <strong>$phpreg</strong> = <strong>&amp;</strong><strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#var$phpreg">phpreg</a>;<a name="a200"></a><br />200           <strong>$value</strong>  = <a href="http://www.php.net/gettype">gettype</a><strong>(</strong><strong>$value</strong><strong>)</strong> == <font color="#66cccc">&quot;string&quot;</font> ? <font color="#66cccc">'&quot;'</font>.<strong>$value</strong>.<font color="#66cccc">'&quot;'</font> : <font color="#66cccc">&quot;Array()&quot;</font>;<a name="a201"></a><br />201           <strong>$key</strong>    = <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodconvert_key_path">convert_key_path</a><strong>(</strong><strong>$key</strong><strong>)</strong>;<a name="a202"></a><br />202           <a name="a203"></a><br />203           <strong>$eval</strong> = <font color="#66cccc">'$phpreg[\''</font>.<strong>$key</strong>.<font color="#66cccc">'\'] = '</font>.<strong>$value</strong>.<font color="#66cccc">';'</font>;<a name="a204"></a><br />204           <font color="blue">if</font><strong>(</strong>eval<strong>(</strong><strong>$eval</strong><strong>)</strong><strong>)</strong> <strong>{</strong> <font color="blue">return</font> true; <strong>}</strong>else<strong>{</strong> <font color="blue">return</font> false; <strong>}</strong><a name="a205"></a><br />205       <strong>}</strong><a name="a206"></a><br />206       <a name="a207"></a><br />207       <font color="#009999">/**</font><a name="a208"></a><br />208   <font color="#009999">    * Remove a key to the phpreg</font><a name="a209"></a><br />209   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">name of key</font><a name="a210"></a><br />210   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a211"></a><br />211   <font color="#009999">    */</font><a name="a212"></a><br />212       <font color="blue">function</font> <a href="../phpreg/phpreg.html#methodremove_key">remove_key</a><strong>(</strong> <strong>$key</strong> <strong>)</strong> <strong>{</strong><a name="a213"></a><br />213   <a name="a214"></a><br />214           <font color="blue">if</font><strong>(</strong> <strong>!</strong><a href="http://www.php.net/preg_match">preg_match</a><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#var$valid_key_pattern">valid_key_pattern</a><strong>,</strong><strong>$key</strong><strong>)</strong> <strong>)</strong><a name="a215"></a><br />215           <strong>{</strong> <font color="blue">return</font> false; <strong>}</strong><a name="a216"></a><br />216           <a name="a217"></a><br />217           <strong>$phpreg</strong> = <strong>&amp;</strong><strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#var$phpreg">phpreg</a>;<a name="a218"></a><br />218           <strong>$key</strong>    = <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodconvert_key_path">convert_key_path</a><strong>(</strong><strong>$key</strong><strong>)</strong>;<a name="a219"></a><br />219   <a name="a220"></a><br />220           <strong>$eval</strong> = <font color="#66cccc">'unset( $phpreg[\''</font>.<strong>$key</strong>.<font color="#66cccc">'\'] );'</font>;<a name="a221"></a><br />221           <font color="blue">if</font><strong>(</strong>eval<strong>(</strong><strong>$eval</strong><strong>)</strong><strong>)</strong> <strong>{</strong> <font color="blue">return</font> true; <strong>}</strong>else<strong>{</strong> <font color="blue">return</font> false; <strong>}</strong><a name="a222"></a><br />222       <strong>}</strong><a name="a223"></a><br />223       <a name="a224"></a><br />224       <font color="#009999">/**</font><a name="a225"></a><br />225   <font color="#009999">    * Define all keys as constants</font><a name="a226"></a><br />226   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">name of key to start spidering definitions</font><a name="a227"></a><br />227   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a228"></a><br />228   <font color="#009999">    */</font><a name="a229"></a><br />229       <font color="blue">function</font> <a href="../phpreg/phpreg.html#methoddefine_keys">define_keys</a><strong>(</strong> <strong>$offset_key</strong> = null <strong>)</strong> <strong>{</strong><a name="a230"></a><br />230       <a name="a231"></a><br />231           <strong>$phpreg</strong> = <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#var$phpreg">phpreg</a>;<a name="a232"></a><br />232           <a name="a233"></a><br />233           <font color="blue">if</font><strong>(</strong><strong>$offset_key</strong><strong>)</strong> <strong>{</strong><a name="a234"></a><br />234           <a name="a235"></a><br />235               <strong>$offset</strong> = <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodconvert_key_path">convert_key_path</a><strong>(</strong><strong>$offset_key</strong><strong>)</strong>;<a name="a236"></a><br />236               <strong>$eval</strong> = <font color="#66cccc">'$phpreg = $phpreg[\''</font>.<strong>$offset</strong>.<font color="#66cccc">'\'];'</font>;<a name="a237"></a><br />237               eval<strong>(</strong><strong>$eval</strong><strong>)</strong>;<a name="a238"></a><br />238           <strong>}</strong><a name="a239"></a><br />239           <a name="a240"></a><br />240           <font color="blue">foreach</font><strong>(</strong> <strong>$phpreg</strong> as <strong>$key</strong> =&gt; <strong>$value</strong> <strong>)</strong> <strong>{</strong><a name="a241"></a><br />241           <a name="a242"></a><br />242               <font color="blue">switch</font> <strong>(</strong> <a href="http://www.php.net/gettype">gettype</a><strong>(</strong><strong>$value</strong><strong>)</strong> <strong>)</strong> <strong>{</strong><a name="a243"></a><br />243               <a name="a244"></a><br />244                   case <font color="#66cccc">'array'</font>:<a name="a245"></a><br />245                   <a name="a246"></a><br />246                       <strong>$next_offset</strong> = <strong>$offset_key</strong>.<font color="#66cccc">'/'</font>.<strong>$key</strong>;<a name="a247"></a><br />247                       <strong>$pattern</strong> = <font color="#66cccc">&quot;/^(\/)*/&quot;</font>;<a name="a248"></a><br />248                       <strong>$replace</strong> = <font color="#66cccc">&quot;&quot;</font>;<a name="a249"></a><br />249                       <strong>$next_offset</strong> = <a href="http://www.php.net/preg_replace">preg_replace</a><strong>(</strong><strong>$pattern</strong><strong>,</strong><strong>$replace</strong><strong>,</strong><strong>$next_offset</strong><strong>)</strong>;<a name="a250"></a><br />250                       <a name="a251"></a><br />251                       <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methoddefine_keys">define_keys</a><strong>(</strong><strong>$next_offset</strong><strong>)</strong>;<a name="a252"></a><br />252                       break;<a name="a253"></a><br />253                   <a name="a254"></a><br />254                   default:<a name="a255"></a><br />255                   <a name="a256"></a><br />256                       <strong>$key</strong>  = <strong>$offset_key</strong>.<font color="#66cccc">'/'</font>.<strong>$key</strong>;<a name="a257"></a><br />257                       <strong>$key</strong>  = <a href="http://www.php.net/trim">trim</a><strong>(</strong><strong>$key</strong><strong>,</strong><font color="#66cccc">'/'</font><strong>)</strong>;<a name="a258"></a><br />258                       <strong>$eval</strong> = <font color="#66cccc">&quot;define('&quot;</font>.<strong>$key</strong>.<font color="#66cccc">&quot;','&quot;</font>.<strong>$value</strong>.<font color="#66cccc">&quot;');&quot;</font>;<a name="a259"></a><br />259                       eval<strong>(</strong><strong>$eval</strong><strong>)</strong>;<a name="a260"></a><br />260                       break;<a name="a261"></a><br />261               <strong>}</strong><a name="a262"></a><br />262           <strong>}</strong><a name="a263"></a><br />263       <strong>}</strong><a name="a264"></a><br />264   <strong>}</strong><a name="a265"></a><br />265   <a name="a266"></a><br />266   <a name="a267"></a><br />267   <font color="green">//-------------------- phpregedit.php --------------------</font><a name="a268"></a><br />268   <a name="a269"></a><br />269   <font color="green">//include('phpreg.php');</font><a name="a270"></a><br />270   <a name="a271"></a><br />271   <font color="#009999">/**</font><a name="a272"></a><br />272   <font color="#009999">* Editor class provides a GUI interface to create,</font><a name="a273"></a><br />273   <font color="#009999">* and manage phpregistry files.</font><a name="a274"></a><br />274   <font color="#009999">*</font><a name="a275"></a><br />275   <font color="#009999">*</font><font color="#009999"> </font><strong><font color = "#0099FF">@author</font></strong><font color="#009999"> Richard Standbrook &lt;richard@koorb.co.uk&gt;</font><a name="a276"></a><br />276   <font color="#009999">*</font><font color="#009999"> </font><strong><font color = "#0099FF">@version</font></strong><font color="#009999"> 0.1</font><a name="a277"></a><br />277   <font color="#009999">*/</font><a name="a278"></a><br />278   <font color="blue">class</font> <a href="../phpreg/phpregedit.html">phpregedit</a> <font color="blue">extends</font> <a href="../phpreg/phpreg.html#var$phpreg">phpreg</a> <strong>{</strong><a name="a279"></a><br />279   <a name="a280"></a><br />280       <font color="#009999">/**</font><a name="a281"></a><br />281   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@var </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">Current key</font><a name="a282"></a><br />282   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a283"></a><br />283   <font color="#009999">    */</font><a name="a284"></a><br />284       <font color="blue">var</font> <a href="../phpreg/phpregedit.html#var$current_key">$current_key</a>;<a name="a285"></a><br />285   <a name="a286"></a><br />286   <a name="a287"></a><br />287       <font color="#009999">/**</font><a name="a288"></a><br />288   <font color="#009999">    * Handles actions to display, update, add, remove and save phpregistry</font><a name="a289"></a><br />289   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> public</font><a name="a290"></a><br />290   <font color="#009999">    */</font><a name="a291"></a><br />291       <font color="blue">function</font> <a href="../phpreg/phpregedit.html#methodeditor">editor</a><strong>(</strong><strong>)</strong> <strong>{</strong><a name="a292"></a><br />292   <a name="a293"></a><br />293           <a href="http://www.php.net/session_start">session_start</a><strong>(</strong><strong>)</strong>;<a name="a294"></a><br />294           <a name="a295"></a><br />295           <font color="green">//if a valid path is specified in the querystring</font><a name="a296"></a><br />296           <font color="blue">if</font><strong>(</strong> <strong>!</strong><strong>@</strong><strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#methodchange_current_key">change_current_key</a><strong>(</strong><strong>$_GET</strong><strong>[</strong><font color="#66cccc">'key'</font><strong>]</strong><strong>)</strong> <strong>)</strong><a name="a297"></a><br />297           <strong>{</strong> <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#methodchange_current_key">change_current_key</a><strong>(</strong><font color="#66cccc">''</font><strong>)</strong>; <strong>}</strong><a name="a298"></a><br />298   <a name="a299"></a><br />299           <strong>$output</strong>  = <font color="#66cccc">&quot;&lt;!DOCTYPE html\n&quot;</font>;<a name="a300"></a><br />300           <strong>$output</strong> .= <font color="#66cccc">&quot;PUBLIC \&quot;-//W3C//DTD XHTML 1.0 Transitional//EN\&quot;\n&quot;</font>;<a name="a301"></a><br />301           <strong>$output</strong> .= <font color="#66cccc">&quot;\&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\&quot;&gt;\n\n&quot;</font>;<a name="a302"></a><br />302   <a name="a303"></a><br />303           <strong>$output</strong> .= <font color="#66cccc">&quot;&lt;html&gt;\n&quot;</font>;<a name="a304"></a><br />304   <a name="a305"></a><br />305           <strong>$output</strong> .= <font color="#66cccc">&quot; &lt;head&gt;\n&quot;</font>;<a name="a306"></a><br />306           <strong>$output</strong> .= <font color="#66cccc">&quot; &lt;title&gt;phpregistry editor&lt;/title&gt;\n&quot;</font>;<a name="a307"></a><br />307           <a name="a308"></a><br />308           <strong>$output</strong> .= <font color="#66cccc">&quot;&lt;style&gt;\n&quot;</font>;<a name="a309"></a><br />309           <strong>$output</strong> .= <font color="#66cccc">&quot; a {color: #222222;text-decoration: underline;}\n&quot;</font>;<a name="a310"></a><br />310           <strong>$output</strong> .= <font color="#66cccc">&quot; a:hover {text-decoration: none;}\n&quot;</font>;<a name="a311"></a><br />311           <strong>$output</strong> .= <font color="#66cccc">&quot; .pr_main,input {font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 11px;}\n&quot;</font>;<a name="a312"></a><br />312           <strong>$output</strong> .= <font color="#66cccc">&quot; .pr_key_links {background-color: #E4EEDB; padding: 5px;}\n&quot;</font>;<a name="a313"></a><br />313           <strong>$output</strong> .= <font color="#66cccc">&quot; .pr_main {width:500px;}\n&quot;</font>;<a name="a314"></a><br />314           <strong>$output</strong> .= <font color="#66cccc">&quot; .pr_path {background-color: #EDEBDC; padding: 2px; font-weight:bold;}\n&quot;</font>;<a name="a315"></a><br />315           <strong>$output</strong> .= <font color="#66cccc">&quot; .pr_value {background-color: #F4F3EC; padding: 2px;}\n&quot;</font>;<a name="a316"></a><br />316           <strong>$output</strong> .= <font color="#66cccc">&quot; .pr_set_frm {padding:10px;background:#BCD6DA;}&quot;</font>;<a name="a317"></a><br />317           <strong>$output</strong> .= <font color="#66cccc">&quot; .pr_set_frm_title {color:#ffffff;padding:5px;background:#619EA7;font-weight:bold;}&quot;</font>;<a name="a318"></a><br />318           <strong>$output</strong> .= <font color="#66cccc">&quot; .pr_options {padding:5px;background:#BCD6DA;}&quot;</font>;<a name="a319"></a><br />319           <strong>$output</strong> .= <font color="#66cccc">&quot; .pr_filename {padding:3px;font-size:10pt;font-weight:bold;text-align:right;}&quot;</font>;<a name="a320"></a><br />320           <strong>$output</strong> .= <font color="#66cccc">&quot; .pr_filename input {padding:3px;font-weight:normal;}&quot;</font>;<a name="a321"></a><br />321           <strong>$output</strong> .= <font color="#66cccc">&quot; .pr_open_frm {padding:10px;background:#BCD6DA;}&quot;</font>;<a name="a322"></a><br />322           <strong>$output</strong> .= <font color="#66cccc">&quot; .pr_open_frm_title {color:#ffffff;padding:5px;background:#619EA7;font-weight:bold;}&quot;</font>;<a name="a323"></a><br />323           <strong>$output</strong> .= <font color="#66cccc">&quot;&lt;/style&gt;\n&quot;</font>;<a name="a324"></a><br />324           <a name="a325"></a><br />325           <strong>$output</strong> .= <font color="#66cccc">&quot; &lt;/head&gt;\n&quot;</font>;<a name="a326"></a><br />326           <a name="a327"></a><br />327           <strong>$output</strong> .= <font color="#66cccc">&quot;&lt;body&gt;\n\n&quot;</font>;<a name="a328"></a><br />328           <strong>$output</strong> .= <font color="#66cccc">&quot;&lt;table class=\&quot;pr_main\&quot; align=\&quot;center\&quot; cellpadding=\&quot;0\&quot; cellspacing=\&quot;1\&quot;&gt;\n\n&quot;</font>;<a name="a329"></a><br />329           <a name="a330"></a><br />330           <font color="green">//Close file</font><a name="a331"></a><br />331           <font color="blue">if</font><strong>(</strong> <strong>@</strong><strong>$_POST</strong><strong>[</strong><font color="#66cccc">'action'</font><strong>]</strong> == <font color="#66cccc">'close'</font> <strong>)</strong><a name="a332"></a><br />332           <strong>{</strong><a name="a333"></a><br />333               <strong>$_SESSION</strong><strong>[</strong><font color="#66cccc">'regfile'</font><strong>]</strong> = null;<a name="a334"></a><br />334           <strong>}</strong><a name="a335"></a><br />335   <a name="a336"></a><br />336           <font color="green">//Open a file to the session</font><a name="a337"></a><br />337           <font color="blue">if</font><strong>(</strong><strong>!</strong><strong>@</strong><strong>$_SESSION</strong><strong>[</strong><font color="#66cccc">'regfile'</font><strong>]</strong><strong>)</strong> <strong>{</strong><a name="a338"></a><br />338               <strong>$output</strong> .= <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#methodopenform">openform</a><strong>(</strong><strong>)</strong>;<a name="a339"></a><br />339               <strong>$hide_content</strong> = true;<a name="a340"></a><br />340           <strong>}</strong>else<strong>{</strong><a name="a341"></a><br />341               <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodopen">open</a><strong>(</strong><strong>$_SESSION</strong><strong>[</strong><font color="#66cccc">'regfile'</font><strong>]</strong><strong>)</strong>;<a name="a342"></a><br />342           <strong>}</strong><a name="a343"></a><br />343   <a name="a344"></a><br />344           <font color="blue">switch</font> <strong>(</strong><strong>@</strong><strong>$_POST</strong><strong>[</strong><font color="#66cccc">'action'</font><strong>]</strong><strong>)</strong> <strong>{</strong><a name="a345"></a><br />345           <a name="a346"></a><br />346               <font color="green">//Add / update key and value</font><a name="a347"></a><br />347               case <font color="#66cccc">'set key'</font>:<a name="a348"></a><br />348   <a name="a349"></a><br />349                   <strong>$key</strong> = <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#var$current_key">current_key</a> ? <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#var$current_key">current_key</a>.<font color="#66cccc">'/'</font>.<strong>$_POST</strong><strong>[</strong><font color="#66cccc">'key'</font><strong>]</strong> : <strong>$_POST</strong><strong>[</strong><font color="#66cccc">'key'</font><strong>]</strong>;<a name="a350"></a><br />350   <a name="a351"></a><br />351                   <font color="blue">if</font><strong>(</strong><strong>@</strong><strong>$_POST</strong><strong>[</strong><font color="#66cccc">'mkdir'</font><strong>]</strong> != <font color="#66cccc">'true'</font><strong>)</strong><a name="a352"></a><br />352                   <strong>{</strong><a name="a353"></a><br />353                       <strong>$value</strong> = <strong>$_POST</strong><strong>[</strong><font color="#66cccc">'value'</font><strong>]</strong>;<a name="a354"></a><br />354   <a name="a355"></a><br />355                   <strong>}</strong>else<strong>{</strong><a name="a356"></a><br />356                   <a name="a357"></a><br />357                       <strong>$value</strong> = null;<a name="a358"></a><br />358                   <strong>}</strong><a name="a359"></a><br />359                   <a name="a360"></a><br />360                   <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodset_key">set_key</a><strong>(</strong><strong>$key</strong><strong>,</strong><strong>$value</strong><strong>)</strong>;<a name="a361"></a><br />361                   <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodsave">save</a><strong>(</strong><strong>$_SESSION</strong><strong>[</strong><font color="#66cccc">'regfile'</font><strong>]</strong><strong>)</strong>;<a name="a362"></a><br />362                   break;<a name="a363"></a><br />363   <a name="a364"></a><br />364               <font color="green">//Update the value of multiple existing keys</font><a name="a365"></a><br />365               case <font color="#66cccc">'update keys'</font>:<a name="a366"></a><br />366   <a name="a367"></a><br />367                   <font color="blue">foreach</font><strong>(</strong> <strong>$_POST</strong><strong>[</strong><font color="#66cccc">'update'</font><strong>]</strong> as <strong>$key</strong> =&gt; <strong>$value</strong> <strong>)</strong><a name="a368"></a><br />368                   <strong>{</strong> <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodset_key">set_key</a><strong>(</strong><strong>$key</strong><strong>,</strong><strong>$value</strong><strong>)</strong>;<strong>}</strong><a name="a369"></a><br />369                   <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodsave">save</a><strong>(</strong><strong>$_SESSION</strong><strong>[</strong><font color="#66cccc">'regfile'</font><strong>]</strong><strong>)</strong>;<a name="a370"></a><br />370                   break;<a name="a371"></a><br />371           <a name="a372"></a><br />372               <font color="green">//Remove multiple existing keys</font><a name="a373"></a><br />373               case <font color="#66cccc">'delete selected'</font>:<a name="a374"></a><br />374   <a name="a375"></a><br />375                   <font color="blue">foreach</font><strong>(</strong> <strong>$_POST</strong><strong>[</strong><font color="#66cccc">'delete'</font><strong>]</strong> as <strong>$key</strong> =&gt; <strong>$foo</strong> <strong>)</strong><a name="a376"></a><br />376                   <strong>{</strong> <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodremove_key">remove_key</a><strong>(</strong><strong>$key</strong><strong>)</strong>; <strong>}</strong><a name="a377"></a><br />377                   <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodsave">save</a><strong>(</strong><strong>$_SESSION</strong><strong>[</strong><font color="#66cccc">'regfile'</font><strong>]</strong><strong>)</strong>;<a name="a378"></a><br />378                   break;<a name="a379"></a><br />379                   <a name="a380"></a><br />380           <strong>}</strong><font color="green">//switch($_POST['action'])</font><a name="a381"></a><br />381           <a name="a382"></a><br />382           <font color="green">//Unless we have specified to hide the content, add it here</font><a name="a383"></a><br />383           <font color="blue">if</font><strong>(</strong><strong>!</strong><strong>@</strong><strong>$hide_content</strong><strong>)</strong> <strong>{</strong><a name="a384"></a><br />384   <a name="a385"></a><br />385               <strong>$output</strong> .= <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#methodcontent">content</a><strong>(</strong><strong>)</strong>;<a name="a386"></a><br />386           <strong>}</strong><a name="a387"></a><br />387   <a name="a388"></a><br />388           <strong>$output</strong> .= <font color="#66cccc">&quot;\n&lt;/table&gt;&quot;</font>;<a name="a389"></a><br />389           <strong>$output</strong> .= <font color="#66cccc">&quot;\n\n&lt;/body&gt;&quot;</font>;<a name="a390"></a><br />390           <strong>$output</strong> .= <font color="#66cccc">&quot;\n\n&lt;/html&gt;&quot;</font>;<a name="a391"></a><br />391   <a name="a392"></a><br />392           <font color="green">//echo output to screen</font><a name="a393"></a><br />393           echo <strong>$output</strong>;<a name="a394"></a><br />394       <strong>}</strong><a name="a395"></a><br />395       <a name="a396"></a><br />396       <font color="#009999">/**</font><a name="a397"></a><br />397   <font color="#009999">    * returns a html set of breadcrum links for the current path</font><a name="a398"></a><br />398   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a399"></a><br />399   <font color="#009999">    */</font><a name="a400"></a><br />400       <font color="blue">function</font> <a href="../phpreg/phpregedit.html#methodkey_path_links">key_path_links</a><strong>(</strong><strong>)</strong> <strong>{</strong><a name="a401"></a><br />401   <a name="a402"></a><br />402           <strong>$links_array</strong> = <a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">'/'</font><strong>,</strong><strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#var$current_key">current_key</a><strong>)</strong>;<a name="a403"></a><br />403   <a name="a404"></a><br />404           <strong>$kp</strong> = <font color="#66cccc">&quot;&lt;a href='?root'&gt;root&lt;/a&gt;&quot;</font>;<a name="a405"></a><br />405   <a name="a406"></a><br />406           <font color="blue">if</font><strong>(</strong><strong>!</strong><strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#var$current_key">current_key</a><strong>)</strong><a name="a407"></a><br />407           <strong>{</strong><font color="blue">return</font> <strong>$kp</strong>;<strong>}</strong><a name="a408"></a><br />408   <a name="a409"></a><br />409           <font color="blue">foreach</font><strong>(</strong><strong>$links_array</strong> as <strong>$c</strong> =&gt; <strong>$key</strong><strong>)</strong> <strong>{</strong><a name="a410"></a><br />410   <a name="a411"></a><br />411               <strong>$kp_count</strong> = 0;<a name="a412"></a><br />412               <strong>$kp_key</strong> = <font color="#66cccc">''</font>;<a name="a413"></a><br />413               <a name="a414"></a><br />414               while<strong>(</strong><strong>$kp_count</strong> != <strong>$c</strong><strong>)</strong> <strong>{</strong><a name="a415"></a><br />415   <a name="a416"></a><br />416                   <strong>$kp_key</strong> .= <strong>$links_array</strong><strong>[</strong><strong>$kp_count</strong><strong>]</strong>.<font color="#66cccc">&quot;/&quot;</font>;<a name="a417"></a><br />417                   <strong>$kp_count</strong>++;<a name="a418"></a><br />418               <strong>}</strong><a name="a419"></a><br />419   <a name="a420"></a><br />420               <strong>$kp</strong> .= <font color="#66cccc">&quot; / &lt;a href='?key=&quot;</font>.<strong>$kp_key</strong>.<strong>$key</strong>.<font color="#66cccc">&quot;'&gt;&quot;</font>.<strong>$key</strong>.<font color="#66cccc">&quot;&lt;/a&gt;&quot;</font>;<a name="a421"></a><br />421           <strong>}</strong><a name="a422"></a><br />422   <a name="a423"></a><br />423           <font color="blue">return</font> <strong>$kp</strong>.<font color="#66cccc">' :'</font>;<a name="a424"></a><br />424       <strong>}</strong><a name="a425"></a><br />425       <a name="a426"></a><br />426       <font color="#009999">/**</font><a name="a427"></a><br />427   <font color="#009999">    * Handles opening a phpreg file</font><a name="a428"></a><br />428   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a429"></a><br />429   <font color="#009999">    */</font><a name="a430"></a><br />430       <font color="blue">function</font> <a href="../phpreg/phpregedit.html#methodopenform">openform</a><strong>(</strong><strong>)</strong> <strong>{</strong><a name="a431"></a><br />431       <a name="a432"></a><br />432           <font color="blue">if</font><strong>(</strong> <strong>@</strong><strong>$_POST</strong><strong>[</strong><font color="#66cccc">'filename'</font><strong>]</strong> <strong>)</strong> <strong>{</strong><a name="a433"></a><br />433           <a name="a434"></a><br />434               <strong>$_SESSION</strong><strong>[</strong><font color="#66cccc">'regfile'</font><strong>]</strong> = <strong>$_POST</strong><strong>[</strong><font color="#66cccc">'filename'</font><strong>]</strong>;<a name="a435"></a><br />435               <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodopen">open</a><strong>(</strong><strong>$_SESSION</strong><strong>[</strong><font color="#66cccc">'regfile'</font><strong>]</strong><strong>)</strong>;<a name="a436"></a><br />436               <font color="blue">return</font> <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#methodcontent">content</a><strong>(</strong><strong>)</strong>;<a name="a437"></a><br />437           <strong>}</strong><a name="a438"></a><br />438           <a name="a439"></a><br />439           <strong>$open_form</strong> = <font color="#66cccc">&quot;&lt;tr&gt;\n &lt;td class=\&quot;pr_open_frm_title\&quot;&gt;&quot;</font>;<a name="a440"></a><br />440           <strong>$open_form</strong>.= <font color="#66cccc">&quot;Open / create php registry file&quot;</font>;<a name="a441"></a><br />441           <strong>$open_form</strong>.= <font color="#66cccc">&quot; &lt;/td&gt;\n&lt;/tr&gt;\n&quot;</font>;<a name="a442"></a><br />442   <a name="a443"></a><br />443           <strong>$open_form</strong>.= <font color="#66cccc">&quot;&lt;form name=\&quot;open\&quot; method=\&quot;post\&quot; action=\&quot;&quot;</font>.<strong>$_SERVER</strong><strong>[</strong><font color="#66cccc">'PHP_SELF'</font><strong>]</strong>.<font color="#66cccc">&quot;\&quot;&gt;\n&quot;</font>;<a name="a444"></a><br />444           <strong>$open_form</strong>.= <font color="#66cccc">&quot;&lt;tr&gt;\n &lt;td class=\&quot;pr_open_frm\&quot;&gt;\n&quot;</font>;<a name="a445"></a><br />445           <strong>$open_form</strong>.= <font color="#66cccc">&quot;  &lt;input type=\&quot;text\&quot; name=\&quot;filename\&quot; id=\&quot;filename\&quot; size=\&quot;50\&quot; /&gt;\n&quot;</font>;<a name="a446"></a><br />446           <strong>$open_form</strong>.= <font color="#66cccc">&quot;  &lt;input type=\&quot;submit\&quot; name=\&quot;action\&quot; id=\&quot;action\&quot; value=\&quot;open/create\&quot; /&gt;\n&quot;</font>;<a name="a447"></a><br />447           <strong>$open_form</strong>.= <font color="#66cccc">&quot; &lt;/td&gt;\n&lt;/tr&gt;\n&quot;</font>;<a name="a448"></a><br />448           <strong>$open_form</strong>.= <font color="#66cccc">&quot;&lt;/form&gt;\n&quot;</font>;<a name="a449"></a><br />449           <a name="a450"></a><br />450           <strong>$open_form</strong>.= <font color="#66cccc">&quot;&lt;tr&gt;\n &lt;td class=\&quot;pr_open_frm\&quot;&gt;&quot;</font>;<a name="a451"></a><br />451           <strong>$open_form</strong>.= <font color="#66cccc">&quot;&lt;b&gt;OPEN A FILE&lt;/b&gt;&lt;br /&gt;&quot;</font>;<a name="a452"></a><br />452           <strong>$open_form</strong>.= <font color="#66cccc">&quot;&amp;bull; Type the path and name of your file&lt;br /&gt;&quot;</font>;<a name="a453"></a><br />453           <strong>$open_form</strong>.= <font color="#66cccc">&quot;&amp;bull; Click `open/create`&lt;br /&gt;&quot;</font>;<a name="a454"></a><br />454           <strong>$open_form</strong>.= <font color="#66cccc">&quot;&lt;br /&gt;&lt;b&gt;CREATE A FILE&lt;/b&gt;&lt;br /&gt;&quot;</font>;<a name="a455"></a><br />455           <strong>$open_form</strong>.= <font color="#66cccc">&quot;&amp;bull; Type the path and name for the file to be saved as&lt;br /&gt;&quot;</font>;<a name="a456"></a><br />456           <strong>$open_form</strong>.= <font color="#66cccc">&quot;&amp;bull; Click `open/create`&lt;br /&gt;&quot;</font>;<a name="a457"></a><br />457           <strong>$open_form</strong>.= <font color="#66cccc">&quot;&amp;bull; &lt;b&gt;Note: The directory structure must already exsist&lt;/b&gt;&lt;br /&gt;&quot;</font>;<a name="a458"></a><br />458           <strong>$open_form</strong>.= <font color="#66cccc">&quot; &lt;/td&gt;\n&lt;/tr&gt;\n&quot;</font>;<a name="a459"></a><br />459           <a name="a460"></a><br />460           <strong>$open_form</strong>.= <font color="#66cccc">&quot;&lt;tr&gt;\n &lt;td class=\&quot;pr_open_frm_title\&quot;&gt;&quot;</font>;<a name="a461"></a><br />461           <strong>$open_form</strong>.= <font color="#66cccc">&quot;Version &quot;</font>.<strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#var$version">version</a>.<font color="#66cccc">&quot; | &lt;a href=\&quot;http://www.koorb.co.uk\&quot;&gt;richard standbrook&lt;/a&gt;&quot;</font>;<a name="a462"></a><br />462           <strong>$open_form</strong>.= <font color="#66cccc">&quot; &lt;/td&gt;\n&lt;/tr&gt;\n&quot;</font>;<a name="a463"></a><br />463   <a name="a464"></a><br />464           <font color="blue">return</font> <strong>$open_form</strong>;<a name="a465"></a><br />465       <strong>}</strong><a name="a466"></a><br />466       <a name="a467"></a><br />467       <font color="#009999">/**</font><a name="a468"></a><br />468   <font color="#009999">    * Handles setting keys and values in a phpreg file</font><a name="a469"></a><br />469   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a470"></a><br />470   <font color="#009999">    */</font><a name="a471"></a><br />471       <font color="blue">function</font> <a href="../phpreg/phpregedit.html#methodsetform">setform</a><strong>(</strong><strong>)</strong> <strong>{</strong><a name="a472"></a><br />472   <a name="a473"></a><br />473           <strong>$set_form</strong> = <font color="#66cccc">&quot;&lt;tr&gt;\n &lt;td class=\&quot;pr_set_frm_title\&quot; colspan=\&quot;3\&quot;&gt;&quot;</font>;<a name="a474"></a><br />474           <strong>$set_form</strong>.= <font color="#66cccc">&quot;Set new key and value&quot;</font>;<a name="a475"></a><br />475           <strong>$set_form</strong>.= <font color="#66cccc">&quot; &lt;/td&gt;\n&lt;/tr&gt;\n&quot;</font>;<a name="a476"></a><br />476   <a name="a477"></a><br />477           <strong>$set_form</strong>.= <font color="#66cccc">&quot;&lt;form name=\&quot;set\&quot; method=\&quot;post\&quot;&gt;\n&quot;</font>;<a name="a478"></a><br />478           <strong>$set_form</strong>.= <font color="#66cccc">&quot;&lt;tr&gt;\n &lt;td class=\&quot;pr_set_frm\&quot; colspan=\&quot;3\&quot;&gt;\n&quot;</font>;<a name="a479"></a><br />479           <strong>$set_form</strong>.= <font color="#66cccc">&quot;  &lt;input type=\&quot;text\&quot; name=\&quot;key\&quot; id=\&quot;key\&quot; /&gt;\n&quot;</font>;<a name="a480"></a><br />480           <strong>$set_form</strong>.= <font color="#66cccc">&quot;  &lt;input type=\&quot;text\&quot; name=\&quot;value\&quot; id=\&quot;value\&quot; /&gt;\n&quot;</font>;<a name="a481"></a><br />481           <strong>$set_form</strong>.= <font color="#66cccc">&quot;  &lt;input type=\&quot;submit\&quot; name=\&quot;action\&quot; id=\&quot;action\&quot; value=\&quot;set key\&quot; /&gt;\n&quot;</font>;<a name="a482"></a><br />482           <strong>$set_form</strong>.= <font color="#66cccc">&quot;  &lt;input type=\&quot;checkbox\&quot; name=\&quot;mkdir\&quot; id=\&quot;mkdir\&quot; value=\&quot;true\&quot; /&gt; Extend key\n&quot;</font>;<a name="a483"></a><br />483           <strong>$set_form</strong>.= <font color="#66cccc">&quot; &lt;/td&gt;\n&lt;/tr&gt;\n&quot;</font>;<a name="a484"></a><br />484           <strong>$set_form</strong>.= <font color="#66cccc">&quot;&lt;/form&gt;\n&quot;</font>;<a name="a485"></a><br />485   <a name="a486"></a><br />486           <font color="blue">return</font> <strong>$set_form</strong>;<a name="a487"></a><br />487       <strong>}</strong><a name="a488"></a><br />488       <a name="a489"></a><br />489       <font color="#009999">/**</font><a name="a490"></a><br />490   <font color="#009999">    * Change the current key path</font><a name="a491"></a><br />491   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">name of key</font><a name="a492"></a><br />492   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a493"></a><br />493   <font color="#009999">    */</font><a name="a494"></a><br />494       <font color="blue">function</font> <a href="../phpreg/phpregedit.html#methodchange_current_key">change_current_key</a> <strong>(</strong> <strong>$key</strong> <strong>)</strong> <strong>{</strong><a name="a495"></a><br />495   <a name="a496"></a><br />496           <font color="blue">if</font><strong>(</strong> <strong>!</strong><a href="http://www.php.net/preg_match">preg_match</a><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#var$valid_key_pattern">valid_key_pattern</a><strong>,</strong><strong>$key</strong><strong>)</strong> <strong>)</strong><a name="a497"></a><br />497           <strong>{</strong> <font color="blue">return</font> false; <strong>}</strong><a name="a498"></a><br />498           <a name="a499"></a><br />499           <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#var$current_key">current_key</a> = <strong>$key</strong>;<a name="a500"></a><br />500       <strong>}</strong><a name="a501"></a><br />501   <a name="a502"></a><br />502       <font color="#009999">/**</font><a name="a503"></a><br />503   <font color="#009999">    * Outputs key settings and handles actions to update, add, remove and save</font><a name="a504"></a><br />504   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@param </font></strong><font color="#009999"></font><em>string </em><font color="#009999"></font><font color="#009999">name of key to start spidering definitions</font><a name="a505"></a><br />505   <font color="#009999">    *</font><font color="#009999"> </font><strong><font color = "#0099FF">@access</font></strong><font color="#009999"> private</font><a name="a506"></a><br />506   <font color="#009999">    */</font><a name="a507"></a><br />507       <font color="blue">function</font> <a href="../phpreg/phpregedit.html#methodcontent">content</a><strong>(</strong><strong>)</strong> <strong>{</strong><a name="a508"></a><br />508   <a name="a509"></a><br />509           <strong>$phpreg</strong> = <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#var$phpreg">phpreg</a>;<a name="a510"></a><br />510           <strong>$paths</strong>  = <font color="#66cccc">''</font>;<a name="a511"></a><br />511           <strong>$keys</strong>   = <font color="#66cccc">''</font>;<a name="a512"></a><br />512   <a name="a513"></a><br />513           <font color="green">//offset array on current_key if set</font><a name="a514"></a><br />514           <font color="blue">if</font><strong>(</strong> <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#var$current_key">current_key</a> <strong>)</strong> <strong>{</strong><a name="a515"></a><br />515   <a name="a516"></a><br />516               <strong>$offset</strong> = <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpreg.html#methodconvert_key_path">convert_key_path</a><strong>(</strong><strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#var$current_key">current_key</a><strong>)</strong>;<a name="a517"></a><br />517               <strong>$eval</strong> = <font color="#66cccc">'$phpreg = $phpreg[\''</font>.<strong>$offset</strong>.<font color="#66cccc">'\'];'</font>;<a name="a518"></a><br />518               eval<strong>(</strong><strong>$eval</strong><strong>)</strong>;<a name="a519"></a><br />519           <strong>}</strong><a name="a520"></a><br />520   <a name="a521"></a><br />521           <font color="blue">if</font><strong>(</strong><strong>$phpreg</strong><strong>)</strong> <strong>{</strong><a name="a522"></a><br />522           <a name="a523"></a><br />523               <font color="green">//alpha. sort keys</font><a name="a524"></a><br />524               <strong>@</strong><a href="http://www.php.net/ksort">ksort</a> <strong>(</strong><strong>$phpreg</strong><strong>)</strong>;<a name="a525"></a><br />525   <a name="a526"></a><br />526               <font color="blue">foreach</font><strong>(</strong> <strong>$phpreg</strong> as <strong>$key</strong> =&gt; <strong>$value</strong> <strong>)</strong> <strong>{</strong><a name="a527"></a><br />527   <a name="a528"></a><br />528                   <strong>$next_key</strong> = <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#var$current_key">current_key</a> ? <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#var$current_key">current_key</a>.<font color="#66cccc">'/'</font>.<strong>$key</strong> : <strong>$key</strong>;<a name="a529"></a><br />529   <a name="a530"></a><br />530                   <font color="blue">switch</font> <strong>(</strong> <a href="http://www.php.net/gettype">gettype</a><strong>(</strong><strong>$value</strong><strong>)</strong> <strong>)</strong> <strong>{</strong><a name="a531"></a><br />531   <a name="a532"></a><br />532                       case <font color="#66cccc">'array'</font>:<a name="a533"></a><br />533   <a name="a534"></a><br />534                           <strong>$paths</strong> .= <font color="#66cccc">&quot;&lt;tr&gt;\n&quot;</font>;<a name="a535"></a><br />535                           <strong>$paths</strong> .= <font color="#66cccc">&quot; &lt;td class=\&quot;pr_path\&quot; width=\&quot;20\&quot;&gt;\n&quot;</font>;<a name="a536"></a><br />536                           <strong>$paths</strong> .= <font color="#66cccc">&quot;  &lt;input type=\&quot;checkbox\&quot; name=\&quot;delete[&quot;</font>.<strong>$next_key</strong>.<font color="#66cccc">&quot;]\&quot; id=\&quot;delete[&quot;</font>.<strong>$next_key</strong>.<font color="#66cccc">&quot;]\&quot; value=\&quot;delete[&quot;</font>.<strong>$next_key</strong>.<font color="#66cccc">&quot;]\&quot;/&gt;\n &lt;/td&gt;\n&quot;</font>;<a name="a537"></a><br />537                           <strong>$paths</strong> .= <font color="#66cccc">&quot; &lt;td class=\&quot;pr_path\&quot; colspan=\&quot;2\&quot;&gt;&quot;</font>;<a name="a538"></a><br />538                           <strong>$paths</strong> .= <font color="#66cccc">&quot;&lt;a href='?key=&quot;</font>.<strong>$next_key</strong>.<font color="#66cccc">&quot;'&gt;&quot;</font>.<strong>$key</strong>.<font color="#66cccc">&quot;&lt;/a&gt;&quot;</font>;<a name="a539"></a><br />539                           <strong>$paths</strong> .= <font color="#66cccc">&quot;&lt;/td&gt;\n&lt;/tr&gt;\n\n&quot;</font>;<a name="a540"></a><br />540                           break;<a name="a541"></a><br />541   <a name="a542"></a><br />542                       default:<a name="a543"></a><br />543   <a name="a544"></a><br />544                           <strong>$keys</strong> .= <font color="#66cccc">&quot;&lt;tr&gt;\n&quot;</font>;<a name="a545"></a><br />545                           <strong>$keys</strong> .= <font color="#66cccc">&quot; &lt;td class=\&quot;pr_value\&quot; width=\&quot;20\&quot;&gt;\n&quot;</font>;<a name="a546"></a><br />546                           <strong>$keys</strong> .= <font color="#66cccc">&quot;  &lt;input type=\&quot;checkbox\&quot; name=\&quot;delete[&quot;</font>.<strong>$next_key</strong>.<font color="#66cccc">&quot;]\&quot; id=\&quot;delete[&quot;</font>.<strong>$next_key</strong>.<font color="#66cccc">&quot;]\&quot; value=\&quot;delete[&quot;</font>.<strong>$next_key</strong>.<font color="#66cccc">&quot;]\&quot;/&gt;\n &lt;/td&gt;\n&quot;</font>;<a name="a547"></a><br />547                           <strong>$keys</strong> .= <font color="#66cccc">&quot; &lt;td class=\&quot;pr_value\&quot;&gt;&quot;</font>;<a name="a548"></a><br />548                           <strong>$keys</strong> .= <strong>$key</strong>;<a name="a549"></a><br />549                           <strong>$keys</strong> .= <font color="#66cccc">&quot;&lt;/td&gt;\n &lt;td class=\&quot;pr_value\&quot; width=\&quot;50%\&quot;&gt;\n&quot;</font>;<a name="a550"></a><br />550                           <strong>$keys</strong> .= <font color="#66cccc">&quot;  &lt;input type=\&quot;text\&quot; size=\&quot;40\&quot; name=\&quot;update[&quot;</font>.<strong>$next_key</strong>.<font color="#66cccc">&quot;]\&quot; id=\&quot;update[&quot;</font>.<strong>$next_key</strong>.<font color="#66cccc">&quot;]\&quot; value=\&quot;&quot;</font>.<strong>$value</strong>.<font color="#66cccc">&quot;\&quot; /&gt;&quot;</font>;<a name="a551"></a><br />551                           <strong>$keys</strong> .= <font color="#66cccc">&quot;\n &lt;/td&gt;\n&lt;/tr&gt;\n\n&quot;</font>;<a name="a552"></a><br />552                           break;<a name="a553"></a><br />553                   <strong>}</strong><a name="a554"></a><br />554               <strong>}</strong><a name="a555"></a><br />555           <strong>}</strong><a name="a556"></a><br />556   <a name="a557"></a><br />557           <strong>$output</strong>  = <font color="#66cccc">&quot;&lt;form name=\&quot;phpreg\&quot; method=\&quot;post\&quot;&gt;\n&quot;</font>;<a name="a558"></a><br />558           <strong>$output</strong> .= <font color="#66cccc">&quot;&lt;tr&gt;\n &lt;td class=\&quot;pr_filename\&quot; colspan=\&quot;3\&quot;&gt;\n  &quot;</font>;<a name="a559"></a><br />559           <strong>$output</strong> .= <strong>$_SESSION</strong><strong>[</strong><font color="#66cccc">'regfile'</font><strong>]</strong>.<font color="#66cccc">&quot; &amp;nbsp;&amp;nbsp;&lt;input type=\&quot;submit\&quot; name=\&quot;action\&quot; id=\&quot;action\&quot; value=\&quot;close\&quot; /&gt; &quot;</font>;<a name="a560"></a><br />560           <strong>$output</strong> .= <font color="#66cccc">&quot;\n &lt;/td&gt;\n&lt;/tr&gt;&quot;</font>;<a name="a561"></a><br />561           <strong>$output</strong> .= <font color="#66cccc">&quot;&lt;/form&gt;\n&quot;</font>;<a name="a562"></a><br />562           <a name="a563"></a><br />563           <strong>$output</strong> .= <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#methodsetform">setform</a><strong>(</strong><strong>)</strong>;<a name="a564"></a><br />564           <a name="a565"></a><br />565           <strong>$output</strong> .= <font color="#66cccc">&quot;&lt;form name=\&quot;phpreg\&quot; method=\&quot;post\&quot;&gt;\n&quot;</font>;<a name="a566"></a><br />566           <a name="a567"></a><br />567           <strong>$output</strong> .= <font color="#66cccc">&quot;&lt;tr&gt;\n &lt;td class=\&quot;pr_key_links\&quot; colspan=\&quot;3\&quot;&gt;\n  &quot;</font>;<a name="a568"></a><br />568           <strong>$output</strong> .= <strong>$this</strong><strong>-&gt;</strong><a href="../phpreg/phpregedit.html#methodkey_path_links">key_path_links</a><strong>(</strong><strong>)</strong>;<a name="a569"></a><br />569           <strong>$output</strong> .= <font color="#66cccc">&quot;\n &lt;/td&gt;\n&lt;/tr&gt;&quot;</font>;<a name="a570"></a><br />570           <a name="a571"></a><br />571           <strong>$output</strong> .= <strong>$paths</strong>.<strong>$keys</strong>;<a name="a572"></a><br />572           <a name="a573"></a><br />573           <strong>$output</strong> .= <font color="#66cccc">&quot;&lt;tr&gt;\n&quot;</font>;<a name="a574"></a><br />574           <strong>$output</strong> .= <font color="#66cccc">&quot; &lt;td colspan=\&quot;3\&quot;&gt;\n&quot;</font>;<a name="a575"></a><br />575           <a name="a576"></a><br />576           <strong>$output</strong> .= <font color="#66cccc">&quot; &lt;table width=\&quot;100%\&quot; cellpadding=0 cellspacing=0&gt;\n&quot;</font>;<a name="a577"></a><br />577           <strong>$output</strong> .= <font color="#66cccc">&quot; &lt;tr&gt;\n&quot;</font>;<a name="a578"></a><br />578           <strong>$output</strong> .= <font color="#66cccc">&quot;  &lt;td class=\&quot;pr_options\&quot; colspan=\&quot;2\&quot;&gt;\n&quot;</font>;<a name="a579"></a><br />579           <a name="a580"></a><br />580           <strong>$output</strong> .= <font color="#66cccc">&quot;   &lt;input type=\&quot;submit\&quot; name=\&quot;action\&quot; id=\&quot;action\&quot; value=\&quot;delete selected\&quot; /&gt;&quot;</font>;<a name="a581"></a><br />581           <strong>$output</strong> .= <font color="#66cccc">&quot;  &lt;/td&gt;\n&quot;</font>;<a name="a582"></a><br />582           <strong>$output</strong> .= <font color="#66cccc">&quot;  &lt;td class=\&quot;pr_options\&quot; align=\&quot;right\&quot;&gt;\n&quot;</font>;<a name="a583"></a><br />583           <strong>$output</strong> .= <font color="#66cccc">&quot;   &lt;input type=\&quot;submit\&quot; name=\&quot;action\&quot; id=\&quot;action\&quot; value=\&quot;update keys\&quot; /&gt;&quot;</font>;<a name="a584"></a><br />584           <a name="a585"></a><br />585           <strong>$output</strong> .= <font color="#66cccc">&quot;  &lt;/td&gt;\n&quot;</font>;<a name="a586"></a><br />586           <strong>$output</strong> .= <font color="#66cccc">&quot;  &lt;/td&gt;\n&lt;/tr&gt;\n\n&quot;</font>;<a name="a587"></a><br />587           <strong>$output</strong> .= <font color="#66cccc">&quot; &lt;/table&gt;\n&quot;</font>;<a name="a588"></a><br />588           <a name="a589"></a><br />589           <strong>$output</strong> .= <font color="#66cccc">&quot; &lt;/td&gt;\n&quot;</font>;<a name="a590"></a><br />590           <strong>$output</strong> .= <font color="#66cccc">&quot; &lt;/td&gt;\n&lt;/tr&gt;\n\n&quot;</font>;<a name="a591"></a><br />591           <a name="a592"></a><br />592           <strong>$output</strong> .= <font color="#66cccc">&quot;\n&lt;/form&gt;&quot;</font>;<a name="a593"></a><br />593           <a name="a594"></a><br />594           <font color="green">//return content</font><a name="a595"></a><br />595           <font color="blue">return</font>  <strong>$output</strong>;<a name="a596"></a><br />596       <strong>}</strong><a name="a597"></a><br />597   <strong>}</strong><a name="a598"></a><br />598   <a name="a599"></a><br />599   <strong>?&gt;</strong></pre>
	<div id="credit">
		<hr />
		Documentation generated on Tue, 10 Feb 2004 17:38:04 +0000 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.2.3</a>
	</div>
</body>
</html>